# YardPass

Система управления гостевых пропусков для жилых комплексов с интеграцией Telegram-бота и веб-панелью для охранников и администраторов.

## Описание

YardPass — комплексное решение для управления временными гостевых пропусками во дворы и жилые комплексы. Система состоит из трех основных компонентов:

1. **Backend API** — REST API на Go для управления пропусками, правилами и аутентификации
2. **Telegram Bot** — бот для жителей, позволяющий создавать пропуска через Telegram
3. **Frontend Web Panel** — веб-интерфейс для охранников (сканирование QR-кодов) и администраторов (управление правилами и отчеты)

### Основные возможности

- Создание временных гостевых пропусков через Telegram-бота
- Генерация QR-кодов для пропусков
- Валидация пропусков через веб-панель охранника
- Управление правилами (тихие часы, лимиты пропусков)
- Журнал событий сканирования
- Отчеты и аналитика для администраторов
- Ролевой доступ (житель, охранник, администратор)
- Rate limiting и защита от злоупотреблений

## Архитектура системы

```
┌─────────────┐      ┌──────────────┐      ┌─────────────┐
│  Telegram   │──────│              │──────│  Frontend   │
│     Bot     │      │   Backend    │      │  Web Panel  │
│  (Residents)│      │     API      │      │ (Guards/    │
└─────────────┘      │   (Go/Gin)   │      │   Admins)   │
                     └──────────────┘      └─────────────┘
                            │
             ┌──────────────┼────────────┐
             │              │            │
        ┌────▼─────┐   ┌────▼────┐  ┌────▼────┐
        │PostgreSQL│   │  Redis  │  │   JWT   │
        │   DB     │   │  Cache  │  │  Auth   │
        └──────────┘   └─────────┘  └─────────┘
```

## Технологический стек

### Backend
- **Go 1.22+** — основной язык
- **Gin** — HTTP web framework
- **PostgreSQL 15+** — основная база данных
- **Redis 6+** — кеширование, rate limiting, состояния бота
- **JWT** — аутентификация для веб-пользователей

### Telegram Bot
- **Telegram Bot API** — интеграция с Telegram
- **Go** — реализация бота

### Frontend
- **React 18** — UI библиотека
- **TypeScript** — типизация
- **Vite** — сборщик и dev server
- **React Router** — маршрутизация
- **TanStack Query** — работа с API
- **React Hook Form + Zod** — формы и валидация
- **UI Kit** (MUI/AntD/Chakra) — компоненты интерфейса

## Структура проекта

```
YardPass/
├── backend/                 # Backend API и Telegram бот
│   ├── cmd/
│   │   ├── api/            # Точка входа для HTTP API
│   │   └── bot/            # Точка входа для Telegram бота
│   ├── internal/
│   │   ├── api/            # HTTP handlers, middleware, роуты
│   │   ├── auth/           # JWT аутентификация
│   │   ├── config/          # Конфигурация
│   │   ├── domain/          # Модели и интерфейсы
│   │   ├── observability/   # Логирование
│   │   ├── qr/              # Генерация QR кодов
│   │   ├── redis/           # Redis клиент
│   │   ├── repo/            # Репозитории для PostgreSQL
│   │   ├── service/         # Бизнес-логика
│   │   └── telegram/        # Telegram бот
│   ├── migrations/          # SQL миграции
│   ├── docs/                # OpenAPI документация
│   └── README.md            # Документация backend
│
├── frontend/                # Frontend веб-приложение
│   ├── src/
│   │   ├── app/             # Инициализация, провайдеры, роуты
│   │   ├── pages/           # Страницы по ролям
│   │   ├── features/        # Логика по доменам
│   │   ├── entities/        # Типизированные модели/DTO
│   │   └── shared/          # Общие компоненты и утилиты
│   ├── docs/                # Техническое задание
│   └── README.md            # Документация frontend
│
└── README.md                # Этот файл
```
